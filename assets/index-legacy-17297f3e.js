!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(j){s=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),c=new E(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=f;var v={};function p(){}function m(){}function b(){}var g={};s(g,c,(function(){return this}));var h=Object.getPrototypeOf,w=h&&h(h(_([])));w&&w!==n&&o.call(w,c)&&(g=w);var y=b.prototype=p.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(t,n){function i(r,a,c,l){var u=d(t[r],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==e(f)&&o.call(f,"__await")?n.resolve(f.__await).then((function(e){i("next",e,c,l)}),(function(e){i("throw",e,c,l)})):n.resolve(f).then((function(e){s.value=e,c(s)}),(function(e){return i("throw",e,c,l)}))}l(u.arg)}var a;r(this,"_invoke",{value:function(e,t){function o(){return new n((function(n,o){i(e,t,n,o)}))}return a=a?a.then(o,o):o()}})}function S(e,t,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return L()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var c=C(a,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=d(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function q(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(q,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=b,r(y,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:m,configurable:!0}),m.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},x(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new k(f(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(y),s(y,u,"Generator"),s(y,c,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var c=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},t}function o(e,t,n,i,o,r,a){try{var c=e[r](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(i,o)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function c(e){o(a,i,r,c,l,"next",e)}function l(e){o(a,i,r,c,l,"throw",e)}c(void 0)}))}}System.register(["./equ-img-legacy-ae2f2487.js","./index-legacy-b852f6e0.js","./bottomPopSheet.vue_vue_type_style_index_0_lang-legacy-b5539fc8.js","./device-legacy-43b2d1d1.js","./opencv-legacy-1bc95a87.js","./function-call-legacy-3d849cf8.js","./index-legacy-877f79de.js","./isObject-legacy-41afd752.js"],(function(e,n){"use strict";var o,a,c,l,u,s,f,d,v,p,m,b,g,h,w,y,x,k,S,C,q,I,E,_,L,j,O,P,A,N,W,T,$,J;return{setters:[function(e){o=e._},function(e){a=e.r,c=e.m,l=e.L,u=e.g,s=e.G,f=e.O,d=e.d,v=e.i,p=e.Q,m=e.c,b=e.b,g=e.j,h=e.u,w=e.n,y=e.t,x=e.k,k=e.e,S=e.w,C=e.x,q=e.v,I=e.l,E=e.a,_=e.o,L=e.F,j=e.f,O=e.p,P=e.q,A=e._},function(e){N=e._},function(e){W=e.u,T=e.c},function(e){$=e.s},function(e){J=e.s},null,null],execute:function(){var D=document.createElement("style");D.textContent=".bluetooth-page[data-v-6704cdfd]{position:relative}.bluetooth-page .scaning-img-box[data-v-6704cdfd]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:2.13333rem;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.bluetooth-page .scaning-img-box .scaning-outside[data-v-6704cdfd]{width:5.65333rem;height:5.65333rem;position:absolute;top:0;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translate(-50%)}.bluetooth-page .scaning-img-box .scaning-inner[data-v-6704cdfd]{width:3.73333rem;height:3.73333rem;margin-top:.90667rem;-webkit-animation:scaning-inner 2s infinite linear;animation:scaning-inner 2s infinite linear}.bluetooth-page .scaning-img-box .over-time-word[data-v-6704cdfd]{font-size:.48rem;font-weight:400;color:#d13050;margin-top:2.05333rem}.bluetooth-page .scaning-img-box .over-time-btn[data-v-6704cdfd]{width:4.34667rem;margin-top:.53333rem}.bluetooth-page .scaning-img-box .connecting-word[data-v-6704cdfd]{font-size:.48rem;font-weight:400;color:#000;margin-top:2.05333rem}.bluetooth-page .scaning-img-box .connect-ip[data-v-6704cdfd]{font-size:.42667rem;font-weight:400;color:#000;margin-top:11px}.bluetooth-page .scaning-img-box .scaning-img[data-v-6704cdfd]{width:5.65333rem;height:5.65333rem}.bluetooth-page .scaning-img-box .isRotation[data-v-6704cdfd]{-webkit-animation:isRotation-6704cdfd 2s infinite linear;animation:isRotation-6704cdfd 2s infinite linear}@-webkit-keyframes isRotation-6704cdfd{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes isRotation-6704cdfd{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.bluetooth-page .closeque-img-box[data-v-6704cdfd]{padding:0 .64rem;margin-top:1.57333rem;position:relative}.bluetooth-page .closeque-img-box .close-equ-img[data-v-6704cdfd]{width:8.58667rem;height:8.45333rem}.bluetooth-page .closeque-img-box .signal-img[data-v-6704cdfd]{position:absolute;width:1.17333rem;height:1.17333rem;top:1.76rem;left:5.28rem}.bluetooth-page .closeque-img-box .hand-mobile-img[data-v-6704cdfd]{position:absolute;width:2.13333rem;height:2.45333rem;top:3.12rem;right:1.33333rem;-webkit-animation-name:hand-mobile-img-6704cdfd;animation-name:hand-mobile-img-6704cdfd;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate;-webkit-animation-play-state:running;animation-play-state:running}@-webkit-keyframes hand-mobile-img-6704cdfd{0%{top:3.25333rem;right:1.25333rem}12.5%{top:3.22667rem;right:1.28rem}25%{top:3.2rem;right:1.30667rem}37.5%{top:3.17333rem;right:1.33333rem}50%{top:3.14667rem;right:1.36rem}62.5%{top:3.12rem;right:1.38667rem}75%{top:3.09333rem;right:1.41333rem}87.5%{top:3.06667rem;right:1.44rem}to{top:3.04rem;right:1.46667rem}}@keyframes hand-mobile-img-6704cdfd{0%{top:3.25333rem;right:1.25333rem}12.5%{top:3.22667rem;right:1.28rem}25%{top:3.2rem;right:1.30667rem}37.5%{top:3.17333rem;right:1.33333rem}50%{top:3.14667rem;right:1.36rem}62.5%{top:3.12rem;right:1.38667rem}75%{top:3.09333rem;right:1.41333rem}87.5%{top:3.06667rem;right:1.44rem}to{top:3.04rem;right:1.46667rem}}.bluetooth-page .loading-content[data-v-6704cdfd]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;top:40%;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translate(-50%);position:absolute;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;text-align:center}.bluetooth-page .loading-content .words-box[data-v-6704cdfd]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.bluetooth-page .bottom-btn[data-v-6704cdfd]{width:100%;position:absolute;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;bottom:3.2rem;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translate(-50%);padding:0 4px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.bluetooth-page .bottom-btn .btns[data-v-6704cdfd]{width:4.34667rem;margin-top:.53333rem}.bluetooth-page .bottom-btn .btns[data-v-6704cdfd] .van-button__text{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:.42667rem;font-weight:500}.bluetooth-page .bottom-btn .connect[data-v-6704cdfd] .van-button__text{color:#fff}.bluetooth-page .bottom-btn .add[data-v-6704cdfd] .van-button__text{color:#333639}.bluetooth-page .bluetooth-content .list-content[data-v-6704cdfd]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:0 .4rem}.bluetooth-page .bluetooth-content .list-content .list-item[data-v-6704cdfd]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:10px 5px;margin-bottom:10px;border:1px solid #eee;border-radius:4px}.bluetooth-page .connect-wifi-content[data-v-6704cdfd]{padding:0 .42667rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.bluetooth-page .connect-wifi-content .device-img-box[data-v-6704cdfd]{width:9.14667rem;height:5.86667rem;background:pink}.bluetooth-page .connect-wifi-content .device-img-box .device-img[data-v-6704cdfd]{width:100%;-o-object-fit:cover;object-fit:cover}.bluetooth-page .connect-wifi-content .device-name[data-v-6704cdfd]{margin-top:.32rem;font-size:.42667rem;font-weight:400;color:#000}.bluetooth-page .connect-wifi-content .login-wifi-content[data-v-6704cdfd]{width:100%}.bluetooth-page .connect-wifi-content .login-wifi-content .connect-wifi-btn[data-v-6704cdfd]{background:var(--backgroundColorMain);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:.37333rem 0;font-size:.42667rem;font-weight:500;color:#fff;border-radius:.66667rem;margin-top:.8rem}.bluetooth-page .overlay-cover .loading-content[data-v-6704cdfd]{display:inline-block;padding:.53333rem .8rem;border-radius:4px;background:white;position:fixed;top:50%;left:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translate(-50%)}.equ-list-pop[data-v-6704cdfd]{text-align:center;padding:.42667rem}.equ-list-pop .title[data-v-6704cdfd]{font-size:.48rem;font-weight:400;color:#000}.equ-list-pop .equ-list-content[data-v-6704cdfd]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:10px .64rem;margin-top:.42667rem;border:1px solid #e0e0e6;border-radius:4px}.equ-list-pop .equ-list-content .equ-list-img[data-v-6704cdfd]{width:3.44rem;height:2.13333rem}.equ-list-pop .equ-list-content .name[data-v-6704cdfd]{font-size:.42667rem;font-weight:400;color:#000;margin-left:.45333rem}.equ-list-pop .equ-list-content .equ-infos[data-v-6704cdfd]{margin-left:.45333rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.equ-list-pop .equ-list-content .equ-infos .infos[data-v-6704cdfd]{text-align:left;font-size:.42667rem;font-weight:400;color:#000;margin-left:.45333rem;margin-bottom:5px}\n",document.head.appendChild(D);var R=""+new URL("scaning-outside-31c6fa95.png",n.meta.url).href,z=""+new URL("scan-inner-fcc36e50.png",n.meta.url).href,G=""+new URL("close-equ-1a07c11e.png",n.meta.url).href,U=""+new URL("mobile_in_hand-10700bef.png",n.meta.url).href,B=""+new URL("signal3-e93bb6b2.png",n.meta.url).href;var F=function(e){return O("data-v-6704cdfd"),e=e(),P(),e},V={key:0,class:"scaning-img-box"},X=F((function(){return g("img",{src:R,alt:"",class:"scaning-outside",draggable:"false"},null,-1)})),M={key:0,class:"over-time-word"},Y={key:2,class:"connecting-word"},H={key:3,class:"connect-ip"},Q={key:1,class:"closeque-img-box"},K=[F((function(){return g("img",{src:G,alt:"",class:"close-equ-img",draggable:"false"},null,-1)})),F((function(){return g("img",{src:U,alt:"",class:"hand-mobile-img",draggable:"false"},null,-1)})),F((function(){return g("img",{src:B,alt:"",class:"signal-img",draggable:"false"},null,-1)}))],Z={class:"bottom-btn"},ee={key:0,class:"connect-wifi-content"},te=F((function(){return g("div",{class:"device-img-box"},[g("img",{src:o,alt:"",class:"device-img",draggable:"false"})],-1)})),ne={class:"device-name"},ie={class:"login-wifi-content"},oe={key:0,class:"flexCenter"},re={key:1,class:"flexCenter"},ae={key:2},ce={class:"loading-content"},le={class:"equ-list-pop"},ue={class:"title"},se=["onClick"],fe=F((function(){return g("img",{src:o,alt:"",class:"equ-list-img",draggable:"false"},null,-1)})),de={class:"equ-infos"},ve={class:"infos"},pe={class:"infos"},me=d({__name:"index",setup:function(e){var n=c(),o=a(!1),d=a(""),O=function(){we.value&&we.value.length>0&&(he.value=!0)},P=function(){o.value=!o.value},A=function(){Oe.value=!1,be.value="",ge.value=""},D=function(){var e=window.innerHeight,t=a(""),n=a(!1),o=a("init"),c=W(),l=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{height:e,currentDeviceId:t,isShowWifiBox:n,deviceStore:c,connectStatus:o,handleJsonStr:function(e){return e?JSON.parse(e):{}},getInfo:l}}(),R=D.height,G=D.currentDeviceId,U=D.deviceStore,B=D.connectStatus,F=D.handleJsonStr,me=function(e){var t=l().t,n=a(""),o=a(""),c=a(!1),u=a([]),s=a(!1),d=function(){if("wifiConnecting"!==e.connectStatus.value&&"equConnecting"!==e.connectStatus.value)if(o.value){var a={ssid:n.value,pwd:o.value,deviceId:e.currentDeviceId.value};e.connectStatus.value="wifiConnecting",f("wifiConfig",a,function(){var n=r(i().mark((function n(o){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.handleJsonStr(o),console.log("wifiConfig---\x3e>>",r),"1"!==r.code){n.next=5;break}return v(),n.abrupt("return");case 5:"0"===r.param?(e.connectStatus.value="blueConnected",$(t("device.wifiConfigErrorTips"))):"0"===r.deviceState&&(e.connectStatus.value="blueConnected",$(t("device.blue.disconnected")),e.wifiConfigCallback&&e.wifiConfigCallback());case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}else $(t("login.posswordPla"))},v=function(){setTimeout((function(){s.value=!0,console.log("-----wifi配网成功分割线-----------"),f("readIpAfterWifiConfig",{deviceId:e.currentDeviceId.value})}),3e3)};return{ssid:n,pwd:o,showWifiPicker:c,wifiList:u,isWifiConfigSuccessed:s,handleScanWifi:function(){u.value=[],f("wifiScan",{},(function(n){var i=e.handleJsonStr(n);"1"!==i.code&&i.wifiAuthority&&"0"===i.wifiAuthority&&$(t("device.openDeviceLoc"))}))},handleConfirmWifiConnect:function(){-1===u.value.findIndex((function(e){return e.ssid===n.value}))?J({title:t("common.tip"),message:t("device.confirm2_4G"),confirmButtonText:t("common.confirm"),cancelButtonText:t("device.switchWifi")}).then((function(){d()})).catch((function(){f("appSetting")})):d()},wifiScanCallback:function(t){var i=e.handleJsonStr(t);console.log(i,"=========wifi列表");var o=i.current;n.value=o.ssid.replace(/["]/g,"")},chooseWifiConfirm:function(e){var t=e.selectedValues;t&&t.length>0&&(n.value=t[0],c.value=!1)},handleClear:function(){n.value="",o.value="",c.value=!1,u.value=[],s.value=!1}}}({deviceStore:U,currentDeviceId:G,connectStatus:B,handleJsonStr:F,wifiConfigCallback:A}),be=me.ssid,ge=me.pwd,he=me.showWifiPicker,we=me.wifiList,ye=me.isWifiConfigSuccessed,xe=me.handleScanWifi,ke=me.handleConfirmWifiConnect,Se=me.wifiScanCallback,Ce=me.chooseWifiConfirm,qe=me.handleClear,Ie=function(e){var n=c(),o=W(),d=l().t,v=a([]),p=a([]),m=a(0),b=a(0),g=a(!1),h=a(!1),w=null,y=null,x=u((function(){var e;return null===(e=o.deviceParams)||void 0===e?void 0:e.wlan0_ip})),k=a(!1),S=a(!1),C=a(!1),q=a(!1),I=a(!1),E=a([]),_=a(!1),L=a(!1),j=u((function(){return o.isConnectedDevice})),O=a(!1),P=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.value&&!j.value&&A();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var t=r(i().mark((function t(){var r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.connectStatus.value="httpConnecting",y=setInterval((function(){b.value<20?b.value=b.value+1:D()}),1e3),k.value=!0,t.next=5,o.getDeviceInfoAPI(x.value);case 5:if(r=t.sent,a=r.code,!g.value){t.next=9;break}return t.abrupt("return");case 9:k.value=!1,1===a&&($(d("device.blue.equConnSucc")),setTimeout((function(){n.back()}),1e3));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.value=!0,S.value=!1,k.value=!1,e.next=5,o.getDeviceInfoAPI(x.value,!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var t=r(i().mark((function t(){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!C.value){t.next=3;break}return R(),t.abrupt("return");case 3:return t.next=5,o.getNativeDeviceInfo();case 5:if(n=t.sent,r="2"===n.networkType,console.log(r,"----isWifi---"),r){t.next=11;break}return $(d("device.plsConnectWifi")),t.abrupt("return");case 11:e.connectStatus.value="blueScaning",S.value=!1,v.value=[],_.value=!1,f("scan",{},(function(e){if(e){var t=JSON.parse(e);"0"===t.code?"0"===t.bleAuthority?($(d("device.blue.failedGetPermissions")),R()):"0"===t.bleState?($(d("device.blue.noOpen")),R()):"2"===t.bleState&&J():(C.value=!0,w=setInterval((function(){m.value<20?m.value=m.value+1:(C.value&&U(),w&&clearInterval(w),w=null,m.value=0)}),1e3))}}));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){y&&(clearInterval(y),b.value=0),k.value&&(S.value=!0,k.value=!1,e.connectStatus.value="httpConnectOverTime")},R=function(){C.value=!1,"blueScaning"===e.connectStatus.value&&(e.connectStatus.value="init"),f("stopScan",{},(function(e){console.log(e)})),w&&(clearInterval(w),w=null,m.value=0)},z=function(t){if(!_.value){e.connectStatus.value="blueConnecting",k.value=!0,C.value=!1;var n={deviceId:t.deviceId};f("connect",n,(function(e){if(e){var t=JSON.parse(e);"0"===t.bleAuthority?$(d("device.blue.failedGetPermissions")):"0"===t.bleState?$(d("device.blue.noOpen")):"0"===t.param&&$(d("device.blue.notFound"))}}))}},G=function(e){var n=[],i=v.value.findIndex((function(t){return t.deviceId===e.deviceId}));if(-1===i)n=[].concat(t(v.value),[e]);else{var o=T(v.value);o[i].rssi=e.rssi,n=o}return n},U=function(){if(!v.value||0===v.value.length)return C.value=!1,$(d("device.blue.emptyEquList")),void R();w&&(clearInterval(w),w=null,m.value=0);for(var e=null,t=0;t<v.value.length;t++)(0===t||Number(v.value[t].rssi)>Number(e.rssi))&&(e=v.value[t]);Math.abs(e.rssi)<=40?z(e):(h.value=!0,C.value=!1)},B=function(){var t=r(i().mark((function t(r){var a,c,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.handleJsonStr(r),e.distributNetworkIP.value=a.ip,console.log(e.isWifiConfigSuccessed.value,"-----isWifiConfigSuccessed----\x3e>>",a.ip),!e.isWifiConfigSuccessed.value){t.next=30;break}if(e.isWifiConfigSuccessed.value=!1,a.ip){t.next=10;break}return console.log("设备ip为空了"),e.connectStatus.value="blueConnected",$(d("device.dirtInterFailed")),t.abrupt("return");case 10:return console.log("配网成功,连接设备-----\x3e>>"),e.wifiConfigCallback&&e.wifiConfigCallback(),$(d("device.dirtInterSuccessCon")),t.prev=13,k.value=!0,t.next=17,o.getDeviceInfoAPI(a.ip);case 17:c=t.sent,l=c.code,console.log("info----\x3e>>",l),k.value=!1,setTimeout((function(){1===l?($(d("device.blue.equConnSucc")),e.connectStatus.value="equConnected",e.distributNetworkIP.value="",setTimeout((function(){n.back()}),1e3)):(e.connectStatus.value="errorEqu",$(d("device.wifiConfigErrorTips")),console.log("连接失败------\x3e>>>>"))}),1e3),t.next=30;break;case 24:t.prev=24,t.t0=t.catch(13),k.value=!1,console.log("---连接异常了"),e.connectStatus.value="blueConnected",$(d("device.blue.connError"));case 30:case"end":return t.stop()}}),t,null,[[13,24]])})));return function(e){return t.apply(this,arguments)}}(),F=function(){f("ipStopScan"),q.value=!1},V=function(){var t=r(i().mark((function t(r){var a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L.value=!0,e.connectStatus.value="equConnecting",t.prev=2,t.next=5,o.getDeviceInfoAPI(r.wlan0_ip);case 5:a=t.sent,c=a.code,L.value=!1,1===c?($(d("device.blue.equConnSucc")),I.value=!1,setTimeout((function(){n.back()}),500)):$(d("device.blue.connError")),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),L.value=!1;case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}();return s((function(){R(),F(),w&&clearInterval(w),y&&clearInterval(y)})),{blueListOptions:p,deviceIP:x,isConnecting:k,isOverTimer:S,isAddingEqu:C,isShowWifiBox:O,isScaningEqu:q,showEquPicker:I,equList:E,isShowConnectEqcLoading:L,showBluePicker:h,handleScan:J,handleConnect:z,scanCallback:function(t){var n=e.handleJsonStr(t);n.deviceName.indexOf("mbtc")>-1&&(v.value=G(n),p.value=v.value.map((function(e){return{text:e.deviceName,value:e.deviceId}})))},deviceDataCallback:B,stateUpdateCallback:function(t){var n=e.handleJsonStr(t);C.value=!1,k.value=!1,console.log(n.deviceState,"------蓝牙连接状态-----\x3e>>>"),"1"===n.deviceState?(_.value=!0,e.connectStatus.value="blueConnected",e.currentDeviceId.value=n.deviceId,O.value=!0,$(d("device.blue.connectSuccess")),R(),e.handleScanWifi()):(e.connectStatus.value="init",$(d("device.blue.disconnected")),e.wifiConfigCallback&&e.wifiConfigCallback())},initPage:P,connectAgain:function(){S.value=!1,g.value=!1,A()},permissionResultCallback:function(t){if(t){var n=JSON.parse(t);n.bleState||n.bleAuthority?"0"===n.bleState||"0"===n.bleAuthority?(e.connectStatus.value="init",R(),"0"===n.bleAuthority?$(d("device.blue.failedGetPermissions")):"0"===n.bleState&&$(d("device.blue.noOpen"))):C.value=!1:"0"===n.networkAuthority||"0"===n.wifiAuthority?e.connectStatus.value="init":"0"===n.albumAuthority&&(e.connectStatus.value="init",$(d("device.blue.openAlbumPermis")))}},ipScanCallback:function(e){if(q.value=!1,e){var t=JSON.parse(e);if("1"===t.code){var n=JSON.parse(t.list),i=null==n?void 0:n.map((function(e){return"string"==typeof e?JSON.parse(e):e}));E.value=i,I.value=!0}else"0"===t.localNetworkAuthority?$(d("device.noLocalNetAut")):$(d("device.blue.noEqu")),E.value=[],I.value=!1}},handleScanEqu:function(){q.value?F():(q.value=!0,e.connectStatus.value="euqScaning",f("ipScan",{},(function(e){if(e){var t=JSON.parse(e);console.log("ipScan----回调-----\x3e>>>>",t),"0"===t.code&&(q.value=!1,E.value=[],I.value=!1,$(d("device.checkWifi")))}})))},onConfirmEqu:V,handleCancelConnect:N,chooseBlueConfirm:function(e){var t=e.selectedValues;if(h.value=!1,t&&t.length>0){var n=t[0];z({deviceId:n})}}}}({deviceStore:U,currentDeviceId:G,connectStatus:B,isWifiConfigSuccessed:ye,distributNetworkIP:d,handleJsonStr:F,handleScanWifi:xe,wifiConfigCallback:A}),Ee=Ie.deviceIP,_e=Ie.isConnecting,Le=Ie.isOverTimer,je=Ie.isAddingEqu,Oe=Ie.isShowWifiBox,Pe=Ie.isScaningEqu,Ae=Ie.showEquPicker,Ne=Ie.equList,We=Ie.isShowConnectEqcLoading,Te=Ie.blueListOptions,$e=Ie.showBluePicker,Je=Ie.handleScan,De=Ie.handleScanEqu,Re=Ie.scanCallback,ze=Ie.deviceDataCallback,Ge=Ie.stateUpdateCallback,Ue=Ie.initPage,Be=Ie.connectAgain,Fe=Ie.permissionResultCallback,Ve=Ie.ipScanCallback,Xe=Ie.onConfirmEqu,Me=Ie.handleCancelConnect,Ye=Ie.chooseBlueConfirm,He=function(){Oe.value?(Oe.value=!1,qe()):n.back()};return v((function(){p("scan"),p("stopScan"),p("connect"),p("disconnect"),p("wifiConfig"),p("wifiScan"),p("ipScan"),p("ipStopScan"),p("wifiScanCallback",Se),p("scanCallback",Re),p("deviceDataCallback",ze),p("deviceStateCallback",Ge),p("permissionResultCallback",Fe),p("ipScanCallback",Ve),p("androidAppExitIntercept"),f("androidAppExitIntercept",{state:"1"}),p("androidPhysicalBackButtonClicked",(function(){He()})),Ue()})),function(e,t){var n=E("top-bar"),i=E("van-button"),r=E("van-loading"),a=E("van-picker"),c=E("van-popup"),l=E("van-field"),u=E("van-overlay");return _(),m("div",{class:"bluetooth-page",style:I({height:"".concat(h(R),"px")})},[b(n,{title:e.$t("device.connectEqu"),"left-text":"",autoBack:!1,onOnClickLeft:He},null,8,["title"]),g("div",null,[h(je)||h(Pe)||h(Oe)?x("",!0):(_(),m("div",V,[X,g("img",{src:z,alt:"",class:w(["scaning-inner",{isRotation:h(_e)}]),draggable:"false"},null,2),h(Le)?(_(),m("span",M,y(e.$t("device.connectOvertime")),1)):x("",!0),h(Le)?(_(),k(i,{key:1,class:"over-time-btn",color:"var(--backgroundColorMain)",round:"",onClick:h(Be)},{default:S((function(){return[C(y(e.$t("device.reconnect")),1)]})),_:1},8,["onClick"])):x("",!0),h(_e)?(_(),m("span",Y,y(e.$t("device.connecting")),1)):x("",!0),h(_e)&&(h(Ee)||d.value)?(_(),m("span",H,[C(" IP:"+y(d.value||h(Ee))+"  ",1),g("span",{style:{color:"var(--backgroundColorMain)"},onClick:t[0]||(t[0]=function(){return h(Me)&&h(Me).apply(void 0,arguments)})},y(e.$t("common.cancel")),1)])):x("",!0)])),h(je)||h(Pe)?(_(),m("div",Q,K)):x("",!0),g("div",Z,[h(Oe)||h(_e)?x("",!0):(_(),k(i,{key:0,class:"btns scanEqu",round:"",disabled:!!(h(Oe)||h(_e)||h(je)),color:"var(--backgroundColorMain)",onClick:h(De)},{default:S((function(){return[h(Pe)?(_(),k(r,{key:0,color:"white",type:"spinner",size:"16px"})):x("",!0),C("  "+y(e.$t("device.scanEqu")),1)]})),_:1},8,["disabled","onClick"])),h(Oe)||h(_e)?x("",!0):(_(),k(i,{key:1,class:"btns add",round:"",disabled:!!(h(Oe)||h(_e)||h(Pe)),onClick:h(Je)},{default:S((function(){return[h(je)?(_(),k(r,{key:0,color:"#333",type:"spinner",size:"16px"})):x("",!0),C("  "+y(h(je)?e.$t("device.scaning"):e.$t("device.addNewEqu")),1)]})),_:1},8,["disabled","onClick"]))])]),b(c,{show:h($e),"onUpdate:show":t[2]||(t[2]=function(e){return q($e)?$e.value=e:null}),round:"",position:"bottom",class:"blue-picker-pop"},{default:S((function(){return[b(a,{"show-toolbar":"",columns:h(Te),onCancel:t[1]||(t[1]=function(e){return $e.value=!1}),onConfirm:h(Ye)},null,8,["columns","onConfirm"])]})),_:1},8,["show"]),h(Oe)?(_(),m("div",ee,[te,g("span",ne,y(e.$t("device.euqName")),1),g("div",ie,[b(l,{modelValue:h(be),"onUpdate:modelValue":t[3]||(t[3]=function(e){return q(be)?be.value=e:null}),style:{width:"100%"},label:"Wi-Fi","right-icon":h(we)&&h(we).length>0?"arrow-down":"",readonly:!0,"label-width":"70",placeholder:e.$t("device.wifiAcount"),onClick:O},null,8,["modelValue","right-icon","placeholder"]),b(l,{modelValue:h(ge),"onUpdate:modelValue":t[4]||(t[4]=function(e){return q(ge)?ge.value=e:null}),type:o.value?"text":"password",label:e.$t("device.password"),"label-width":"70","right-icon":o.value?"eye-o":"closed-eye",placeholder:e.$t("device.passwordPla"),onClickRightIcon:P},null,8,["modelValue","type","label","right-icon","placeholder"]),b(c,{show:h(he),"onUpdate:show":t[6]||(t[6]=function(e){return q(he)?he.value=e:null}),round:"",position:"bottom"},{default:S((function(){return[b(a,{"show-toolbar":"",columns:h(we),onCancel:t[5]||(t[5]=function(e){return he.value=!1}),onConfirm:h(Ce)},null,8,["columns","onConfirm"])]})),_:1},8,["show"]),g("span",{class:"connect-wifi-btn",onClick:t[7]||(t[7]=function(){return h(ke)&&h(ke).apply(void 0,arguments)})},["wifiConnecting"===h(B)?(_(),m("span",oe,[b(r,{color:"white",type:"spinner",size:"16px"}),C("  "+y(e.$t("device.wifi.connecting")),1)])):"equConnecting"===h(B)?(_(),m("span",re,[b(r,{color:"white",type:"spinner",size:"16px"}),C("  "+y(e.$t("device.equConnecting")),1)])):(_(),m("span",ae,y(e.$t("device.connectEqu")),1))])])])):x("",!0),b(u,{show:h(We),"class-name":"overlay-cover",onClick:t[8]||(t[8]=function(e){return We.value=!1})},{default:S((function(){return[g("div",ce,[b(r,{size:"24px",vertical:""},{default:S((function(){return[C(y(e.$t("device.equConnecting")),1)]})),_:1})])]})),_:1},8,["show"]),b(N,{show:h(Ae),"onUpdate:show":t[9]||(t[9]=function(e){return q(Ae)?Ae.value=e:null}),title:e.$t("device.equ")},{default:S((function(){return[g("div",le,[g("span",ue,y(e.$t("device.plaChooseEqu")),1),(_(!0),m(L,null,j(h(Ne),(function(e,t){return _(),m("div",{key:t,class:"equ-list-content",onClick:function(t){return h(Xe)(e)}},[fe,g("div",de,[g("span",ve,y(e.name),1),g("span",pe,y(e.wlan0_ip),1)])],8,se)})),128))])]})),_:1},8,["show","title"])],4)}}});e("default",A(me,[["__scopeId","data-v-6704cdfd"]]))}}}))}();
