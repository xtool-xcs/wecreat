import{b as h}from"./index-affcdb37.js";import{u as k}from"./device-1f3f345b.js";import{d as C,L as b,r as y,i as N,c as w,b as l,w as x,j as r,u,n as B,P as V,m as D,a as i,o as E,t as R}from"./index-e43f4e63.js";import{s as q}from"./opencv-49a7e8f2.js";import"./isObject-93378927.js";const I={class:"change-equ-content"},L={class:"save-btn"},P={class:"input-box"},A=C({__name:"changeEquName",setup(S){const n=k(),m=V(),p=D(),{t:a}=b(),e=y(""),_=()=>{e.value=""},d=()=>{},v=async()=>{var s;const o=(s=n.deviceParams)==null?void 0:s.wlan0_ip,t={baseUrl:"".concat(n.protocol).concat(o).concat(n.port),name:e.value},{code:c}=await h(t);c===0&&(q(a("login.saveSuccess")),n.getDeviceInfoAPI(o),p.back())};return N(()=>{const{name:o}=m.params;typeof o=="string"&&(e.value=o)}),(o,t)=>{const c=i("topBar"),s=i("van-field"),f=i("vk-icon");return E(),w("div",I,[l(c,{title:"修改设备名称",onOnClickLeft:d,onOnClickRight:v},{right:x(()=>[r("span",L,R(u(a)("common.save")),1)]),_:1}),r("div",P,[l(s,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=g=>e.value=g),border:!0,placeholder:u(a)("login.enterQueName")},null,8,["modelValue","placeholder"]),l(f,{icon:"",class:B(["close-icon",{notEmpty:e.value}]),onClick:_},null,8,["class"])])])}}});export{A as default};
